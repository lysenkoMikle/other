<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <!-- <link rel="stylesheet" href="/style.css"> -->
    <title>Document</title>
    <style type="text/css">
      #panel-title {
        display: block;
        background-color: #dfdfdf;
        text-decoration: none;
        border: 1px solid black;
      }
      #panel {
        border: 1px solid black;
        border-top-width:0 ;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
   
    <div>
      <a href="javascript:Spoiler();" class="link_spoiler" id="panel-title">Скрыть</a>
        <div id="panel" >
          Событие onresize объекта window ответственно за изменение размеров окна браузера. Поэтому событие и принадлежит объекту
          окно — window.
          
          Поскольку среди элементов html нету тега, отождествленного с окном браузера, то обработать в javascript событие onresize
          можно при помощи присваивания функции свойству объекта window.
          
          Рассмотрим на примере:
        </div>
        <p>
          Объект javascript выпадающий список — select
          Объект select — выпадающий список — предоставляет список значений для выбора. Выбор может быть как одного пункта, так и
          нескольких пунктов сразу. Это сложный объект, обращение к которому в скрипте происходит и как к объекту select, и как к
          его пункту option.
        </p>
    </div>    
    
    <script>
      let step = 4;
      function Spoiler() {
          let panel = document.getElementById("panel");
          let text = document.getElementById("panel-title");
          if (!panel.style.height || (panel.style.display == "none")) {

          if (panel.style.display == "none") {
            panel.style.display = "";
            showPanel()
            //text.innerHTML = "Подробнее";
            text.firstChild.nodeValue = "Скрыть";
          }
          else {
            collapsePanel()
            panel.originalHeight = panel.clientHeight;
            //panel.style.display = "none";
            //text.innerHTML = "Скрыть";
            text.firstChild.nodeValue = "Открыть";
          }
        }
      }
      function collapsePanel() {
        let panel = document.getElementById("panel");
        if (panel.clientHeight >= step) {
            let h = panel.clientHeight -step;
            panel.style.height = h + "px";
            setTimeout('collapsePanel()',50);
        } else {
          panel.style.display = "none";
        }
      }
      function showPanel() {
        let panel = document.getElementById("panel");
         if (panel.clientHeight < (panel.originalHeight - step)) {
          let h = panel.clientHeight + step;
          panel.style.height = h + "px";
          setTimeout('showPanel()', 50);
        } else {
          panel.style.height = "";
        }
      }

    </script>
  </body>
</html>
